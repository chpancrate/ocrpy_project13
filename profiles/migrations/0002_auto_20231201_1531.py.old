# Generated by Django 4.2.7 on 2023-12-01 14:31

from django.db import migrations
from oc_lettings_site.models import Profile as OCProfile
from profiles.models import Profile as ProProfile
from django.contrib.auth.models import User


def copy_data(apps, schema_editor):
    for old_profile in OCProfile.objects.all():
        # copy of one Profile in the new Profile table
        ProProfile.objects.get_or_create(
            user=old_profile.user,
            favorite_city=old_profile.favorite_city,
            )


class Migration(migrations.Migration):

    dependencies = [
        ('profiles', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(copy_data),
    ]
